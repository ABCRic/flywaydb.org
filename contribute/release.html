---
layout: contribute
menu: release
subtitle: Releasing Flyway
---
<div id="release">
    <h1><a name="Releasing_Flyway_(Committers_only)"></a>Releasing Flyway (Committers only)<a
            href="#Releasing_Flyway_(Committers_only)" class="section_anchor"></a></h1>

    <h2><a name="Prequesites"></a>Prequesites<a href="#Prequesites" class="section_anchor"></a></h2>
    <ol>
        <li>GPG installed, available on the PATH and a key generated (see <a
                href="https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide#SonatypeOSSMavenRepositoryUsageGuide-5.Prerequisites"
               >https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide#SonatypeOSSMavenRepositoryUsageGuide-5.Prerequisites</a>)
        </li>
        <li>A checkout of Flyway in two locations: <i>/flyway</i> and <i>/flyway-release</i></li>
        <li>Maven settings.xml contains</li>
        <ul>
            <li>credentials for Sonatype OSS Repo Hosting</li>
            <li>credentials for Google Code</li>
            <li>credentials for Google App Engine</li>
            <li>the path to the local flyway-release repo checkout</li>
            <li>the GPG passphrase key:</li><pre class="prettyprint">&lt;settings&gt;
    &lt;servers&gt;
        &lt;server&gt;
            &lt;id&gt;sonatype-nexus-snapshots&lt;/id&gt;
            &lt;username&gt;myuser&lt;/username&gt;
            &lt;password&gt;XXX&lt;/password&gt;
        &lt;/server&gt;
        &lt;server&gt;
            &lt;id&gt;sonatype-nexus-staging&lt;/id&gt;
            &lt;username&gt;myuser&lt;/username&gt;
            &lt;password&gt;XXX&lt;/password&gt;
        &lt;/server&gt;
        &lt;server&gt;
            &lt;id&gt;googlecode&lt;/id&gt;
            &lt;username&gt;myuser&lt;/username&gt;
            &lt;password&gt;XXX&lt;/password&gt;
        &lt;/server&gt;
        &lt;server&gt;
            &lt;id&gt;flyway-sample-appengine&lt;/id&gt;
            &lt;username&gt;myemail@address.com&lt;/username&gt;
            &lt;password&gt;XXX&lt;/password&gt;
        &lt;/server&gt;
    &lt;/servers&gt;
    &lt;profiles&gt;
        &lt;profile&gt;
            &lt;id&gt;flyway-release&lt;/id&gt;
            &lt;activation&gt;
                &lt;property&gt;
                    &lt;name&gt;releaseVersion&lt;/name&gt;
                &lt;/property&gt;
            &lt;/activation&gt;
            &lt;properties&gt;
                &lt;flyway.releaserepo&gt;/path/to/flyway-release/repo&lt;/flyway.releaserepo&gt;
                &lt;gpg.passphrase&gt;XXX&lt;/gpg.passphrase&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;
    &lt;/profiles&gt;
&lt;/settings&gt;</pre>
        </ul>
    </ol>

    <h2><a name="Required_Steps"></a>Required Steps<a href="#Required_Steps" class="section_anchor"></a></h2>
    <ol>
        <li>In Jenkins, we choose the job <strong>Flyway RELEASE</strong></li>
        <li>In the list of actions left, we choose <strong>Perform Maven Release</strong></li>
        <li>We set the new Release Version, say <i>2.0.2</i>, and the new Development Version, say <i>2.0.3-SNAPSHOT</i>,
            and make sure <strong>all checkboxes are unticked</strong></li>
        <li>Now we can start the release by clicking <strong>Schedule Maven Build</strong></li>
        <li>The old downloads must now be deprecated. We go to <a href="http://code.google.com/p/flyway/downloads/list"
                                                                 >http://code.google.com/p/flyway/downloads/list</a>.
        </li>
        <li>We mark each download for the old version as deprecated by removing the <strong>Featured</strong> tag and
            adding the <strong>Deprecated</strong> tag
        </li>
        <li>Now the artifacts, must be promoted to Maven Central by logging in to <a href="https://oss.sonatype.org/"
                                                                                    >https://oss.sonatype.org/</a>
        </li>
        <li>We select <strong>Staging Repositories</strong> on the left and tick the checkbox in front of the open
            <strong>com.googlecode.flyway</strong> repository
        </li>
        <li>We then close it (without message) and release it (without message)</li>
        <li>The site must be now be updated by putting the new version number in _config.yml</li>
        <li>We also update the <a href="/documentation/releaseNotes.html">Release Notes</a>
            by changing the Unreleased Version in the new version with the date of today
        </li>
        <li>The newly released version should also be removed from the <a href="/documentation/roadmap.html">Roadmap</a>
        </li>
        <li>Any remaining documentation changes to reflect changes in the code, must now be made to the site</li>
        <li>Great, we&#x27;re done ! We can now announce it on Twitter!</li>
    </ol>
</div>